<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page for Annotations</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
        }
        p {
            margin: 20px 0;
            color: #555;
        }
        .highlight-test {
            background: #f0f0f0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>Annotation Test Page</h1>
    
    <p>
        This is a test page for the Graphiti annotation feature. 
        Try selecting this text with your mouse to see if the annotation button appears!
    </p>
    
    <div class="highlight-test">
        <h2>How to Test</h2>
        <ol>
            <li>Make sure the Graphiti extension is loaded (check chrome://extensions/)</li>
            <li>Reload the extension if you just built it</li>
            <li>Refresh this page</li>
            <li>Select any text on this page</li>
            <li>An "Add Annotation" button should appear</li>
        </ol>
    </div>
    
    <p>
        The quick brown fox jumps over the lazy dog. This is a classic pangram that contains every letter of the alphabet.
        Try selecting parts of this sentence to test the annotation feature.
    </p>
    
    <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    </p>
    
    <div class="highlight-test">
        <h2>Debugging</h2>
        <p>
            Open the browser console (F12) and look for messages starting with "[ContentScript]" or "[Graphiti]".
            If you don't see any messages, the content script may not be loading.
        </p>
    </div>
    
    <script>
        // Simple script to check if extension content script is running
        console.log('[Test Page] Page loaded, waiting for extension content script...');
        
        // Check after a delay
        setTimeout(() => {
            const hasHighlightClass = document.querySelector('style')?.textContent?.includes('pubky-highlight');
            if (hasHighlightClass) {
                console.log('[Test Page] ✓ Annotation styles detected - content script is loaded!');
            } else {
                console.warn('[Test Page] ✗ Annotation styles not found - content script may not be loaded');
                console.warn('[Test Page] Try these steps:');
                console.warn('[Test Page] 1. Go to chrome://extensions/');
                console.warn('[Test Page] 2. Find Graphiti extension');
                console.warn('[Test Page] 3. Click the reload button');
                console.warn('[Test Page] 4. Refresh this page');
            }
        }, 1000);
    </script>
</body>
</html>

